% The Editorial Office Requirements for the Table of Contents cause a significant problem
% in Latex if there is only one Appendix. The Appendix is no longer labeled "A" in the TOC
% but has the word "APPENDIX" placed in front of the title of the Appendix. This can be done
% without issue IF nothing needs to be numbered by LaTeX in the Appendix. Unfortunately, most of the time
% something needs to be numbered in that single Appendix. For this reason we have included
% this document which makes the changes needed to set up the format changes needed for a single appendix.

% There is no need to use the AppendixA.tex file just enter the appendix text after the chapter
% setup is completed


\appendix %

\chapter*{APPENDIX \\ SIALX PROGRAM USED FOR BECHMARKING} %puts the chapter title at the beginning of the
% appendix without changing the chapter number

\addcontentsline{toc}{chapter}{APPENDIX: SIALX PROGRAMS USED FOR BENCHMARKING} %puts the appendix title
% in the TOC correctly

\chaptermark{Appendix}
\markboth{Appendix}{Appendix}
\setcounter{chapter}{1} %These commands set the chapter counter properly and the appendix text
% is ready to go.

Listing~\ref{lst:put_test} presents the sialx program used for benchmark various
parameters while evaluating block prefetch.

\begin{lstlisting}[caption={\texttt{put\_test.sialx}: sialx program used for benchmarking prefetching},
  label={lst:put_test}]
sial put_test
  predefined int norb
  aoindex i = 1:norb
  aoindex j = 1:norb
  distributed a[i,j]
  distributed b[i,j]
  temp t[i,j]

  scalar x

  print "starting loop"
  pardo i
    do j
      t[i,j] = (scalar)((i-1)*norb + (j-1)) + 1.0
      put a[i,j] = t[i,j]
    enddo j
  endpardo i

  sip_barrier

  pardo i
    do j
    get a[i,j]
    x = a[i,j] * a[i,j]
    put b[i,j] = a[i,j]
    enddo j
  endpardo i

endsial put_test
\end{lstlisting}

Listing~\ref{lst:contraction_small_test} presents the sialx program used for benchmarking
parameters used while evaluating GPU exploitation.

\begin{lstlisting}[caption={\texttt{contraction\_small\_test.sialx}: sialx program to benchmark GPU exploitation},
  label={lst:contraction_small_test}]
sial contraction_small
  special fill_block_cyclic wr
  aoindex i = 1:1
  aoindex j = 1:1
  aoindex k = 1:1
  aoindex l = 1:1
  aoindex m = 1:1

  temp a[i, j, k, l]
  temp b[j, k]
  local c[i, l]

  gpu_on
  do k
    do j
      execute fill_block_cyclic b [j, k] 1.0
      do i
        do l
          allocate c[i, l]
          execute fill_block_cyclic a[i, j, k, l] 1.0
          c[i, l] = a[i, j, k, l] * b[j, k]
        enddo l
      enddo i
    enddo j
  enddo k

  gpu_off

endsial contraction_small
\end{lstlisting}